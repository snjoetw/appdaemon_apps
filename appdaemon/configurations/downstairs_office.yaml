office_lighting:
  module: motion_lighting2
  class: MotionLighting
  enabler_entity_id: input_boolean.is_motion_enabled_office
  scene_entity_id: input_select.lighting_mode_office
  motion_entity_id: binary_sensor.zb_office_motion
  turn_off_delay: 1800
  lighting_scenes:
    Dark:
      - entity_id: light.xiaomi_office_light
        brightness: 254
      - entity_id: light.hue_office_light
        brightness: 254


office_monitor_random_lighting:
  module: automation
  class: Automation
  triggers:
    - platform: time
      seconds: 1800
  constraints:
    - platform: state
      entity_id: light.hue_office_light
      state: 'on'
  handlers:
    - constraints:
        - platform: state
          entity_id: light.xiaomi_office_light
          state: 'on'
      actions:
        - platform: hue_activate_scene
          entity_id: light.hue_office_light
          scene_name:
            - Arctic aurora
            - Tropical twilight
            - Spring blossom
            - Savanna sunset


office_mac_lighting:
  debug: true
  log_level: DEBUG
  module: automation
  class: Automation
  triggers:
    - platform: state
      entity_ids: binary_sensor.joes_imac_pro_active
  handlers:
    - constraints:
        - platform: triggered_state
          from: "off"
          to: "on"
      actions:
        - platform: turn_on
          entity_ids:
            - entity_id: light.xiaomi_office_light
              brightness: 254
            - entity_id: light.hue_office_light
              brightness: 254
    - constraints:
        - platform: triggered_state
          from: "on"
          to: "off"
      actions:
        - platform: delay
          delay: 1
          actions:
            - platform: turn_off
              entity_ids:
                - light.xiaomi_office_light
                - light.hue_office_light


office_wall_switch:
  module: automation
  class: Automation
  triggers:
    - platform: event
      event_type: zha_event
  constraints:
    - platform: triggered_event
      device_ieee: '00:15:8d:00:01:1c:11:45'
      cluster_id: 6
      endpoint_id: [1, 2]
  handlers:
    - constraints:
        - platform: state
          entity_id: light.xiaomi_office_light
          state: 'on'
      actions:
        - platform: turn_off
          dim_light_before_turn_off: false
          entity_ids:
            - light.xiaomi_office_light
            - light.hue_office_light
            - input_boolean.is_motion_enabled_office
        - platform: delay
          delay: 3600
          actions:
            - platform: turn_on
              entity_ids:
                - input_boolean.is_motion_enabled_office

    - constraints:
        - platform: state
          entity_id: light.xiaomi_office_light
          state: 'off'
      actions:
        - platform: turn_on
          entity_ids:
            - entity_id: light.xiaomi_office_light
              brightness: 254
            - entity_id: light.hue_office_light
              brightness: 254
        - platform: delay
          delay: 3600
          actions:
            - platform: turn_on
              entity_ids:
                - input_boolean.is_motion_enabled_office
